<div class="container">
	<% if !@order_items.nil? &&
		@order_items.map { |order_item| order_item.errors.full_messages }
		.flatten.any? %>
		<ul>
			<% @order_items.map(&:errors).each do |error| %>
				<li><%= error.full_messages %></li>
			<% end %>
		</ul>
	<% end %>

	<% if @order_items.size > 0 %>
		<% @order_items.each do |item| %>
			<div class="card bg-light mb-3" id="order_item_<%= item.id %>">
				<div class="card-body">
					<div class="row">
						<div class="col-sm-8">
							<h3><%= item.product.title %></h3>
						</div>
						<div class="col-sm-4">
							<%= form_for(item, remote: true) do |f| %>
								<%= f.hidden_field :product_id,
									value: item.product.id %>
								<h5><%= item.product.price %></h5>
								<div class="from-group">
									<%= f.text_field :quantity, value: item.quantity.to_i, min: 1, class: 'form-control' %>
								</div>
								<div class="row pt-2">
									<div class="col-6">
										<%= f.submit "Update Quantity", class: 'btn btn-primary form-control' %>
									</div>
									<div class="col-6">
										<%= link_to "Delete", item, method: :delete, remote: true, class: 'btn btn-danger form-control'%>
									</div>
								</div>
							<% end %>
						</div>
					</div>
				</div>
			</div>
		<% end %>
	<% end %>
</div>
